v 20100214 2
C 40000 40000 0 0 0 title-B.sym
T 50100 40900 9 16 1 0 0 0 1
Spice Model for L/C/F Meter - Capacitance
T 54000 40100 9 10 1 0 0 0 1
J. Dunmire
C 40900 48100 1 0 0 5V-plus-1.sym
C 41000 45700 1 0 0 gnd-1.sym
C 40800 46400 1 0 0 vdc-1.sym
{
T 41500 47050 5 10 1 1 0 0 1
refdes=V1
T 41500 47250 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 41500 47450 5 10 0 0 0 0 1
footprint=none
T 41500 46850 5 10 1 1 0 0 1
value=DC 5V
}
C 40300 49900 1 0 0 spice-model-1.sym
{
T 40400 50600 5 10 0 1 0 0 1
device=model
T 40400 50500 5 10 1 1 0 0 1
refdes=A11
T 40800 50000 5 10 1 1 0 0 1
file=./models/LM393.5_1
T 41500 50200 5 10 1 1 0 0 1
model-name=LM393
}
C 49300 46300 1 0 0 freq_buf.sym
{
T 49500 47900 5 10 1 1 0 0 1
refdes=A2
T 50306 46564 5 10 0 0 0 0 1
device=none
}
N 51500 47000 52200 47000 4
{
T 52300 46900 5 10 1 1 0 0 1
netname=Vload
}
N 51900 47500 51900 47000 4
C 51800 48400 1 270 0 resistor-1.sym
{
T 52200 48100 5 10 0 0 270 0 1
device=RESISTOR
T 52100 48100 5 10 1 1 0 0 1
refdes=Rpu
T 52100 47800 5 10 1 1 0 0 1
value=50K
}
C 51700 48800 1 0 0 5V-plus-1.sym
N 51900 48800 51900 48400 4
C 51700 46600 1 270 0 capacitor-1.sym
{
T 52400 46400 5 10 0 0 270 0 1
device=CAPACITOR
T 52100 46100 5 10 1 1 0 0 1
refdes=Cload
T 52600 46400 5 10 0 0 270 0 1
symversion=0.1
T 52200 45800 5 10 1 1 0 0 1
value=10p
}
C 51800 45200 1 0 0 gnd-1.sym
N 51900 47000 51900 46600 4
N 51900 45700 51900 45500 4
T 52400 46500 9 10 1 0 0 0 2
Load values chosen based on
Atmel I/O pin specifications.
N 41100 48100 41100 47600 4
N 41100 46000 41100 46400 4
C 44400 45100 1 0 0 gnd-1.sym
N 44500 45700 44500 45400 4
N 44500 47000 44500 46900 4
C 44200 45700 1 0 0 vac-1.sym
{
T 44900 46350 5 10 1 1 0 0 1
refdes=V2
T 44900 46550 5 10 0 0 0 0 1
device=vac
T 44900 46750 5 10 0 0 0 0 1
footprint=none
T 44900 46100 5 10 1 1 0 0 1
value=SIN(0 10 30KHz 0 0)
}
C 47900 47200 1 90 0 diode-1.sym
{
T 47300 47600 5 10 0 0 90 0 1
device=DIODE
T 48300 47800 5 10 1 1 180 0 1
refdes=D1
T 47900 47200 5 10 1 1 0 0 1
value=1N4004
}
C 47900 45800 1 90 0 diode-1.sym
{
T 47300 46200 5 10 0 0 90 0 1
device=DIODE
T 48300 46400 5 10 1 1 180 0 1
refdes=D2
T 47900 45800 5 10 1 1 0 0 1
value=1N4004
}
N 47700 47200 47700 46700 4
C 47600 45100 1 0 0 gnd-1.sym
N 47700 45400 47700 45800 4
N 47700 48300 47700 48100 4
C 47500 48300 1 0 0 5V-plus-1.sym
C 42900 49900 1 0 0 spice-model-1.sym
{
T 43000 50600 5 10 0 1 0 0 1
device=model
T 43000 50500 5 10 1 1 0 0 1
refdes=A12
T 44200 50200 5 10 1 1 0 0 1
model-name=1N4004
T 43400 50000 5 10 1 1 0 0 1
file=./models/diode
}
C 42900 49200 1 0 0 spice-directive-1.sym
{
T 43000 49500 5 10 0 1 0 0 1
device=directive
T 43000 49600 5 10 1 1 0 0 1
refdes=A14
T 43000 49300 5 10 1 1 0 0 1
value=.TRAN 1u 100u 1u
}
N 47700 47000 49300 47000 4
C 45400 46900 1 0 0 resistor-1.sym
{
T 45700 47300 5 10 0 0 0 0 1
device=RESISTOR
T 45600 47200 5 10 1 1 0 0 1
refdes=Rsource
T 45700 46700 5 10 1 1 0 0 1
value=50
}
N 45400 47000 44500 47000 4
{
T 44700 47100 5 10 1 1 0 0 1
netname=Vin
}
N 46300 47000 47700 47000 4
T 40400 48800 9 10 1 0 0 0 3
For AC analysis:
  - Change SPICE directive to: .AC dec 1000 10kHz 50000kHz
  - V2 from SIN(0 10 30KHz 0 0) to DC 2.5 AC 10
